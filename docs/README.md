### 1단계 기능 목록

1. 지하철 역 관리 API 기능 완성
    - 지하철 역 생성 시 이미 등록된 이름으로 요청한다면 에러 응답
2. 지하철 노선 관리 API 구현
    - 지하철 노선 등록
        - 등록된 이름으로 요청하면 에러 응답
    - 지하철 노선 목록
    - 지하철 노선 조회
        - 조회된 노선이 없는 경우 에러 응답
    - 지하철 노선 수정
        - 중복된 이름으로 수정 시 에러 응답
    - 지하철 노선 삭제
3. End to End 테스트 작성

### 2단계 기능 목록

1. 데이터를 H2 DB에 저장하기
    - H2 DB 설정하기
    - 테이블 생성하기
2. Spring Bean & Spring JDBC 적용하기
    - `@Controller`, `@Service`, `@Repository` 적용
    - 예외 `@ExceptionHandler`로 처리
    - JdbcTemplate는 `NamedJdbcTemplate` 사용

### 3단계 기능 목록

- [x] 노선 등록시 초기 구간 추가한다.
    - [x] [ERROR] 구간에 포함될 station 이 존재하지 않는 경우 예외를 발생시킨다.
- [x] 노선 조회시 노선에 포함된 구간 정보를 통해 상행 종점부터 하행 종점까지의 역 목록 응답 추가한다.
- [x] 노선 조회시 역 목록을 정렬한다.
- [x] 구간을 등록한다.
    - [x] 등록한 구간이 중간일 경우, 양 구간을 수정한다.
    - [x] [ERROR] 상행역과 하행역이 일치하는 경우 예외를 발생시킨다.
    - [x] [ERROR] 구간의 길이가 0보다 작거나 같은 경우 예외를 발생시킨다.
    - [x] [ERROR] 등록할 구간의 상행역 하행역중 노선의 역과 일치하는 것이 없는 경우 예외를 발생시킨다.
    - [x] [ERROR] 등록할 구간과 상행역 하행역이 같은 노선이 있는 경우 예외를 발생시킨다.
    - [x] [ERROR] 역 사이에 새로운 역을 등록할 경우 기존 역 사이 길이보다 크거나 같은 경우 예외를 발생시킨다.
- [x] 구간 제거한다.
    - [x] 중간역이 제거될 경우 노선 재배치 + 거리 수정한다.
    - [x] [ERROR] 구간이 하나인 노선에서 구간을 제거하는 경우 예외를 발생시킨다.

### 리펙토링 목록

- [x] LINE table column unique 확인
- [x] @Controller & @RestController 차이점 알아보고 적용하기
- [x] Line Dto -> Line Response로 사용하기
- [x] 생성자 정리
- [x] 중복확인 로직 은닉화
- [x] equals & hashcode 확인하고 적용하기
- [x] Service & Repository test 작성
- [x] Service 에서 Dto반환

### 페어 규칙

- 불변 지향
- TDD 지키기
- 모델에서는 toString() 재정의
- 이해안된 것은 꼭 물어보기
- 5분 단위로 페어 프로그래밍
- 의견을 일치시킨 후에 코드 작성하기
